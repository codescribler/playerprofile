<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Player Profile Form</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" type="image/png" href="images/playerprofilemanagerlogo.png">
    <style>
        body {
            background-color: #f5f5f5;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        .form-container {
            max-width: 800px;
            margin: 20px auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        .form-header {
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
            color: white;
            padding: 20px;
            text-align: center;
        }
        
        .form-header h1 {
            margin: 0;
            font-size: 2rem;
        }
        
        .form-header .subtitle {
            margin: 10px 0 0 0;
            opacity: 0.9;
            font-size: 1.1rem;
        }
        
        .form-actions {
            background: #34495e;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .form-actions .back-btn {
            background: #95a5a6;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
        }
        
        .form-actions .back-btn:hover {
            background: #7f8c8d;
        }
        
        .form-content {
            padding: 30px;
        }
        
        .form-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #ecf0f1;
            border-radius: 8px;
            background: #fafbfc;
        }
        
        .form-section h3 {
            margin-top: 0;
            color: #2c3e50;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        
        .form-buttons {
            background: #f8f9fa;
            padding: 20px;
            border-top: 1px solid #ecf0f1;
            display: flex;
            justify-content: flex-end;
            gap: 15px;
        }
        
        .form-buttons button {
            padding: 12px 24px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
        }
        
        .form-buttons button[type="submit"] {
            background: #27ae60;
            color: white;
        }
        
        .form-buttons button[type="submit"]:hover {
            background: #219a52;
        }
        
        .form-buttons button[type="button"] {
            background: #95a5a6;
            color: white;
        }
        
        .form-buttons button[type="button"]:hover {
            background: #7f8c8d;
        }
        
        /* Progress indicator */
        .progress-indicator {
            background: white;
            padding: 15px 20px;
            border-bottom: 1px solid #ecf0f1;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .progress-step {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: #ecf0f1;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 10px;
            font-weight: bold;
            color: #7f8c8d;
            position: relative;
        }
        
        .progress-step.active {
            background: #3498db;
            color: white;
        }
        
        .progress-step.completed {
            background: #27ae60;
            color: white;
        }
        
        .progress-step::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 100%;
            width: 20px;
            height: 2px;
            background: #ecf0f1;
            transform: translateY(-50%);
        }
        
        .progress-step:last-child::after {
            display: none;
        }
        
        /* Responsive design */
        @media (max-width: 768px) {
            .form-container {
                margin: 10px;
                border-radius: 0;
            }
            
            .form-content {
                padding: 20px;
            }
            
            .form-header h1 {
                font-size: 1.5rem;
            }
            
            .form-buttons {
                flex-direction: column;
            }
            
            .form-buttons button {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="form-container">
        <div class="form-header">
            <h1 id="form-title">Create Player Profile</h1>
            <p class="subtitle">Complete all sections to create a comprehensive player profile</p>
        </div>
        
        <div class="form-actions">
            <button class="back-btn" onclick="window.history.back()">‚Üê Back to Dashboard</button>
            <div class="form-status">
                <span id="form-status-text">Ready to create profile</span>
            </div>
        </div>
        
        <div class="form-content">
            <form id="player-form-content">
                <div class="form-section">
                    <h3>Personal Information</h3>
                    <div class="form-group">
                        <label for="fullName">Full Name *</label>
                        <input type="text" id="fullName" placeholder="Enter player's full name" required>
                    </div>
                    <div class="form-group">
                        <label for="dateOfBirth">Date of Birth *</label>
                        <input type="date" id="dateOfBirth" required>
                    </div>
                    <div class="form-group">
                        <label for="heightCm">Height (cm)</label>
                        <input type="number" id="heightCm" placeholder="Height in centimeters (e.g., 175.5)" min="120" max="220" step="0.1">
                    </div>
                    <div class="form-group">
                        <label for="weightKg">Weight (kg)</label>
                        <input type="number" id="weightKg" placeholder="Weight in kilograms (e.g., 70.5)" min="30" max="150" step="0.1">
                    </div>
                    <div class="form-group">
                        <label for="preferredFoot">Preferred Foot</label>
                        <select id="preferredFoot">
                            <option value="">Select Preferred Foot</option>
                            <option value="right">Right</option>
                            <option value="left">Left</option>
                            <option value="both">Both</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="weakFootStrength">Weak Foot Strength (%)</label>
                        <input type="number" id="weakFootStrength" placeholder="e.g., 70" min="0" max="100" value="50">
                        <small>How good is the weak foot compared to the strong foot (0-100%)</small>
                    </div>
                    <div class="form-group">
                        <label for="nationality">Nationality</label>
                        <input type="text" id="nationality" placeholder="Enter nationality">
                    </div>
                </div>

                <div class="form-section">
                    <h3>Contact Information</h3>
                    <div class="form-group">
                        <label for="playerPhone">Player Phone</label>
                        <input type="tel" id="playerPhone" placeholder="Enter player's phone number">
                    </div>
                    <div class="form-group">
                        <label for="playerEmail">Player Email</label>
                        <input type="email" id="playerEmail" placeholder="Enter player's email address">
                    </div>
                    <div class="form-group">
                        <label for="guardianName">Guardian/Parent Name</label>
                        <input type="text" id="guardianName" placeholder="Enter guardian's full name">
                    </div>
                    <div class="form-group">
                        <label for="guardianPhone">Guardian/Parent Phone</label>
                        <input type="tel" id="guardianPhone" placeholder="Enter guardian's phone number">
                    </div>
                    <div class="form-group">
                        <label for="guardianEmail">Guardian/Parent Email</label>
                        <input type="email" id="guardianEmail" placeholder="Enter guardian's email address">
                    </div>
                </div>

                <div class="form-section">
                    <h3>Playing Information</h3>
                    <div class="form-group">
                        <label for="primaryPosition">Primary Position</label>
                        <input type="text" id="primaryPosition" placeholder="e.g., Forward, Midfielder, Defender, Goalkeeper">
                    </div>
                    <div class="form-group">
                        <label for="primaryPositionSuitability">Primary Position Suitability (%)</label>
                        <input type="range" id="primaryPositionSuitability" min="0" max="100" value="100">
                        <span class="range-value">100</span>
                        <span>%</span>
                        <small>How well suited is the player to their primary position (0-100%)</small>
                    </div>
                    <div class="form-group">
                        <label for="primaryPositionNotes">Primary Position Notes</label>
                        <textarea id="primaryPositionNotes" placeholder="Notes about player's ability in their primary position"></textarea>
                    </div>
                    <div class="form-group">
                        <label>Secondary Positions</label>
                        <div id="secondaryPositionsContainer">
                            <button type="button" id="addSecondaryPosition" class="add-position-btn">+ Add Secondary Position</button>
                        </div>
                        <small>Add each secondary position with suitability rating and notes</small>
                    </div>
                    <div class="form-group">
                        <label for="yearsPlaying">Years Playing</label>
                        <input type="number" id="yearsPlaying" placeholder="Number of years playing football" min="0" max="30">
                    </div>
                    <div class="form-group">
                        <label for="currentTeam">Current Team/Club</label>
                        <input type="text" id="currentTeam" placeholder="Enter current team or club name">
                    </div>
                    <div class="form-group">
                        <label for="league">League/Division</label>
                        <input type="text" id="league" placeholder="Enter league or division name">
                    </div>
                </div>

                <div class="form-section">
                    <h3>Academic Information</h3>
                    <div class="form-group">
                        <label for="currentSchool">Current School</label>
                        <input type="text" id="currentSchool" placeholder="Enter school name">
                    </div>
                    <div class="form-group">
                        <label for="gradeYear">Current Grade/Year</label>
                        <input type="text" id="gradeYear" placeholder="e.g., 10th Grade, Year 11, Sophomore">
                    </div>
                </div>

                <div class="form-section">
                    <h3>Profile Photo</h3>
                    <div class="form-group">
                        <div id="current-photo-preview" style="display: none;">
                            <img id="current-photo" src="" alt="Current profile photo" style="width: 100px; height: 100px; object-fit: cover; border-radius: 50%; margin-bottom: 10px;">
                            <button type="button" id="remove-photo-btn" class="remove-photo-btn">Remove Photo</button>
                        </div>
                        <label for="profilePhoto">Upload New Profile Photo</label>
                        <input type="file" id="profilePhoto" accept="image/*">
                        <small>Leave empty to keep current photo</small>
                    </div>
                </div>

                <div class="form-section">
                    <h3>Player Abilities (Rate 1-10)</h3>
                    
                    <div class="abilities-category">
                        <h4>Technical Skills</h4>
                        <div class="abilities-grid">
                            <div class="ability-item">
                                <label>Ball Control</label>
                                <input type="range" id="ballControl" min="1" max="10" value="5">
                                <span class="range-value">5</span>
                            </div>
                            <div class="ability-item">
                                <label>Passing</label>
                                <input type="range" id="passing" min="1" max="10" value="5">
                                <span class="range-value">5</span>
                            </div>
                            <div class="ability-item">
                                <label>Shooting</label>
                                <input type="range" id="shooting" min="1" max="10" value="5">
                                <span class="range-value">5</span>
                            </div>
                            <div class="ability-item">
                                <label>Dribbling</label>
                                <input type="range" id="dribbling" min="1" max="10" value="5">
                                <span class="range-value">5</span>
                            </div>
                            <div class="ability-item">
                                <label>First Touch</label>
                                <input type="range" id="firstTouch" min="1" max="10" value="5">
                                <span class="range-value">5</span>
                            </div>
                            <div class="ability-item">
                                <label>Crossing</label>
                                <input type="range" id="crossing" min="1" max="10" value="5">
                                <span class="range-value">5</span>
                            </div>
                            <div class="ability-item">
                                <label>Tackling</label>
                                <input type="range" id="tackling" min="1" max="10" value="5">
                                <span class="range-value">5</span>
                            </div>
                            <div class="ability-item">
                                <label>Heading</label>
                                <input type="range" id="heading" min="1" max="10" value="5">
                                <span class="range-value">5</span>
                            </div>
                        </div>
                    </div>

                    <div class="abilities-category">
                        <h4>Physical Attributes</h4>
                        <div class="abilities-grid">
                            <div class="ability-item">
                                <label>Pace</label>
                                <input type="range" id="pace" min="1" max="10" value="5">
                                <span class="range-value">5</span>
                            </div>
                            <div class="ability-item">
                                <label>Strength</label>
                                <input type="range" id="strength" min="1" max="10" value="5">
                                <span class="range-value">5</span>
                            </div>
                            <div class="ability-item">
                                <label>Stamina</label>
                                <input type="range" id="stamina" min="1" max="10" value="5">
                                <span class="range-value">5</span>
                            </div>
                            <div class="ability-item">
                                <label>Agility</label>
                                <input type="range" id="agility" min="1" max="10" value="5">
                                <span class="range-value">5</span>
                            </div>
                            <div class="ability-item">
                                <label>Balance</label>
                                <input type="range" id="balance" min="1" max="10" value="5">
                                <span class="range-value">5</span>
                            </div>
                            <div class="ability-item">
                                <label>Jumping</label>
                                <input type="range" id="jumping" min="1" max="10" value="5">
                                <span class="range-value">5</span>
                            </div>
                        </div>
                    </div>

                    <div class="abilities-category">
                        <h4>Mental & Tactical</h4>
                        <div class="abilities-grid">
                            <div class="ability-item">
                                <label>Decision Making</label>
                                <input type="range" id="decisionMaking" min="1" max="10" value="5">
                                <span class="range-value">5</span>
                            </div>
                            <div class="ability-item">
                                <label>Positioning</label>
                                <input type="range" id="positioning" min="1" max="10" value="5">
                                <span class="range-value">5</span>
                            </div>
                            <div class="ability-item">
                                <label>Concentration</label>
                                <input type="range" id="concentration" min="1" max="10" value="5">
                                <span class="range-value">5</span>
                            </div>
                            <div class="ability-item">
                                <label>Leadership</label>
                                <input type="range" id="leadership" min="1" max="10" value="5">
                                <span class="range-value">5</span>
                            </div>
                            <div class="ability-item">
                                <label>Communication</label>
                                <input type="range" id="communication" min="1" max="10" value="5">
                                <span class="range-value">5</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h3>Player Showcase</h3>
                    <div class="form-group">
                        <label for="playerShowcase">Player Description & Potential</label>
                        <textarea id="playerShowcase" placeholder="Write a compelling description that showcases this player's potential, character, and what makes them special. Focus on their standout qualities, future prospects, and why scouts should be interested.&#10;&#10;Example: 'An exceptional young talent with natural leadership qualities and an eye for goal. Shows maturity beyond years and consistently performs under pressure. Has the technical ability and work ethic to succeed at higher levels.'"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="playingStyleSummary">Playing Style Summary</label>
                        <textarea id="playingStyleSummary" placeholder="Brief description of playing style (e.g., 'Creative attacking midfielder with excellent vision')"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="strengths">Key Strengths</label>
                        <textarea id="strengths" placeholder="Enter player's main strengths (one per line)&#10;e.g.,&#10;- Excellent ball control&#10;- Strong aerial ability&#10;- Good leadership skills"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="weaknesses">Areas for Improvement</label>
                        <textarea id="weaknesses" placeholder="Enter areas that need development (one per line)&#10;e.g.,&#10;- Defensive positioning&#10;- Weak foot accuracy&#10;- Stamina in final minutes"></textarea>
                    </div>
                </div>
            </form>
        </div>
        
        <div class="form-buttons">
            <button type="button" id="cancel-btn">Cancel</button>
            <button type="submit" form="player-form-content">Save Player Profile</button>
        </div>
    </div>

    <script src="player-form.js"></script>
    <script>
        // Set the form title based on URL parameters
        document.addEventListener('DOMContentLoaded', function() {
            const urlParams = new URLSearchParams(window.location.search);
            const mode = urlParams.get('mode');
            const playerId = urlParams.get('id');
            
            if (mode === 'edit' && playerId) {
                document.getElementById('form-title').textContent = 'Edit Player Profile';
                document.getElementById('form-status-text').textContent = 'Editing existing profile';
                // Load existing player data
                if (window.loadPlayerForEditing) {
                    window.loadPlayerForEditing(playerId);
                }
            } else {
                document.getElementById('form-title').textContent = 'Create Player Profile';
                document.getElementById('form-status-text').textContent = 'Ready to create profile';
            }
            
            // Handle cancel button
            document.getElementById('cancel-btn').addEventListener('click', function() {
                if (confirm('Are you sure you want to cancel? Any unsaved changes will be lost.')) {
                    window.history.back();
                }
            });
        });
        
        // Auto-save functionality (optional)
        function autoSave() {
            const formData = new FormData(document.getElementById('player-form-content'));
            const data = Object.fromEntries(formData);
            localStorage.setItem('playerFormDraft', JSON.stringify(data));
        }
        
        // Auto-save every 30 seconds
        setInterval(autoSave, 30000);
        
        // Load draft on page load
        window.addEventListener('load', function() {
            const draft = localStorage.getItem('playerFormDraft');
            if (draft && confirm('Found a saved draft. Would you like to restore it?')) {
                const data = JSON.parse(draft);
                Object.keys(data).forEach(key => {
                    const element = document.getElementById(key);
                    if (element) {
                        element.value = data[key];
                    }
                });
            }
        });
    </script>
</body>
</html>